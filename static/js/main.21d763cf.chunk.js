(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{145:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);for(var c=n(0),i=n.n(c),r=n(54),a=n.n(r),s=(n(145),n(58)),o=n(10),l=n(178),j=n(35),u=n(1),b=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=(t[0],t[1]),i=Object(c.useState)(!1),r=Object(o.a)(i,2),a=r[0],s=(r[1],Object(j.b)()),b=s.isAuthenticated,d=s.isLoading,h=s.user;window.matchMedia("(display-mode: standalone)").matches,window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),n(e)}));return Object(u.jsxs)(l.a,{divided:!0,stackable:!0,size:"massive",style:{background:"#570E0E"},children:[Object(u.jsx)(l.a.Item,{header:!0,style:{background:"#570E0E"},children:Object(u.jsx)("h1",{style:{color:"white"},children:"KET\xa0-\xa0Kailasa\xa0eligiblity\xa0test"})}),b&&!d&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.a.Item,{position:"right",style:{background:"#570E0E",color:"white"},children:[Object(u.jsxs)("h1",{children:["Welcome ",h.nickname,"!\xa0\xa0\xa0\xa0"]}),Object(u.jsx)("img",{src:h.picture,alt:""})]})})]})},d=function(e){var t=e.children;return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)("main",{children:t})]})},h=n(174),O=n(182),x=n(71),m=function(){return Object(u.jsx)(h.a,{children:Object(u.jsxs)(O.a,{icon:!0,size:"big",children:[Object(u.jsx)(x.a,{name:"circle notched",loading:!0}),Object(u.jsxs)(O.a.Content,{children:[Object(u.jsx)(O.a.Header,{children:"Just one second"}),"We are fetching that content for you."]})]})})},f=n(49),g=(n(61),n(184)),p=n(187),v=n(130),w=n(179),k=n(175),y=n(183),A=n.p+"static/media/anandagandha-sm-copy.debb8840.png",S=n.p+"static/media/kailaasa-flag-triangular-2019-compressed.b6011790.png",z=n(177),C=[{key:"0",text:"Hindu Philosophy",value:"hinduPhilosophy"},{key:"1",text:"Hindu History",value:"hinduHistory"},{key:"2",text:"Hindu identity",value:"hinduIdentity"},{key:"3",text:"Know your Nation",value:"knowYourNation"}],T={hours:[],minutes:[],seconds:[]},Q=0;Q<100;Q++)T.hours.push({key:Q,text:Q,value:60*Q*60});for(var q=0;q<60;q++)T.minutes.push({key:q,text:q,value:60*q});for(var E=0;E<60;E++)T.seconds.push({key:E,text:E,value:E});for(var P=[],I=1;I<=50;I++)P.push({key:I,text:I,value:I});var N=function(e){if(null===e||void 0===e||"number"!==typeof e)return null;var t=parseInt(e),n=null;return t>=97?n="A+":t>=93&&t<=96?n="A":t>=90&&t<=92?n="A-":t>=87&&t<=89?n="B+":t>=83&&t<=86?n="B":t>=80&&t<=82?n="B-":t>=77&&t<=79?n="C+":t>=73&&t<=76?n="C":t>=70&&t<=72?n="C-":t>=67&&t<=69?n="D+":t>=63&&t<=66?n="D":t>=60&&t<=62?n="D-":t<60&&(n="F"),{grade:n,remarks:e>=60?"Congratulations, YOU PASSED!":"Sorry, YOU FAILED!"}},H=function(e,t){return 0===e?0:Number((100*t/e).toFixed(2))},F=function(e){var t;switch(e){case 0:t="A.";break;case 1:t="B.";break;case 2:t="C.";break;case 3:t="D.";break;default:t=null}return t},B=function(e){for(var t=(e=Object(f.a)(e)).length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=[e[n],e[t]];e[t]=c[0],e[n]=c[1]}return e},_=function(e){return null===e||void 0===e||"number"!==typeof e?null:{hours:"0".concat(Math.floor(e/36e5)).slice(-2),minutes:"0".concat(Math.floor(e/6e4%60)).slice(-2),seconds:"0".concat(Math.floor(e/1e3%60)%60).slice(-2)}},D=n(185),W=function(){return window.addEventListener("online",(function(){return window.location.reload()})),Object(u.jsx)(h.a,{children:Object(u.jsx)(g.a,{placeholder:!0,children:Object(u.jsxs)(D.a,{icon:!0,children:[Object(u.jsx)(x.a,{name:"unlink"}),Object(u.jsx)("h1",{children:"Offline"}),Object(u.jsxs)("p",{children:["There is no Internet connection. We'll try to reload automatically once you're back online!"," ",Object(u.jsx)("span",{role:"img","aria-label":"signal",children:"\ud83d\udcf6"})]})]})})})},M=function(e){var t=e.startQuiz,n=Object(j.b)().loginWithRedirect,i=Object(j.b)(),r=i.logout,a=i.isAuthenticated,b=i.isLoading,d=i.user,x=(i.getAccessTokenSilently,Object(c.useState)({value:null,text:null})),T=Object(o.a)(x,2),Q=T[0],q=T[1],E=Object(c.useState)(5),P=Object(o.a)(E,2),I=P[0],N=(P[1],Object(c.useState)("0")),H=Object(o.a)(N,2),F=H[0],_=(H[1],Object(c.useState)("0")),D=Object(o.a)(_,2),M=D[0],L=(D[1],Object(c.useState)({hours:0,minutes:4,seconds:0})),R=Object(o.a)(L,2),U=R[0],Y=(R[1],Object(c.useState)(null)),G=Object(o.a)(Y,2),J=(G[0],G[1],Object(c.useState)(null)),K=Object(o.a)(J,2),Z=K[0],$=K[1],V=Object(c.useState)(!1),X=Object(o.a)(V,2),ee=X[0],te=(X[1],Object(c.useState)(!1)),ne=Object(o.a)(te,2),ce=ne[0],ie=ne[1],re=!1;Q.value&&I&&F&&M&&(U.hours||U.minutes||U.seconds)&&(re=!0);return Object(c.useEffect)((function(){ce&&z.a.post("https://kerserver.onrender.com/getQuestions",Object(s.a)({major:Q.value},d)).then((function(e){var n=e.data;n=n.map((function(e){e.options=B(Object(f.a)(e.answers))}));var c=60*U.hours*60+60*U.minutes+U.seconds;t(e.data,c,Q)})).catch((function(e){$(e)}))}),[ce,Q.value]),ee?Object(u.jsx)(W,{}):Object(u.jsxs)(h.a,{children:[Object(u.jsx)(g.a,{children:Object(u.jsx)(p.a,{columns:3,children:Object(u.jsxs)(p.a.Row,{children:[Object(u.jsx)(p.a.Column,{children:Object(u.jsx)(v.a,{size:"medium",verticalAlign:"middle",src:S})},1),Object(u.jsx)(p.a.Column,{textAlign:"center",verticalAlign:"middle",children:Object(u.jsx)("h2",{children:"Majors"})},2),Object(u.jsx)(p.a.Column,{children:Object(u.jsx)(v.a,{size:"small",verticalAlign:"middle",src:A,floated:"right"})},3)]})})}),Object(u.jsx)(g.a,{children:Object(u.jsx)(w.a.Group,{children:Object(u.jsx)(w.a,{children:Object(u.jsxs)(w.a.Content,{children:[Z&&Object(u.jsxs)(O.a,{error:!0,onDismiss:function(){return $(null)},children:[Object(u.jsx)(O.a.Header,{children:"Error!"}),Z.message]}),Object(u.jsxs)(w.a.Meta,{children:[Object(u.jsx)("br",{}),Object(u.jsx)(w.a.Description,{children:a&&!b?Object(u.jsx)("h3",{children:"Please choose a major to start, complete all the majors"}):Object(u.jsx)("h3",{children:"Please login to start"})}),Object(u.jsx)(l.a,{vertical:!0,fluid:!0,size:"massive",children:C.map((function(e,t){return Object(u.jsxs)(l.a.Item,{name:e.text,disabled:!a,active:Q.value===e.value,onClick:function(){q(e)},children:[Object(u.jsxs)("b",{style:{marginRight:"8px"},children:[t+1,". "]}),e.text]},t)}))})]}),Object(u.jsx)(k.a,{}),Object(u.jsx)(k.a,{}),Object(u.jsxs)(w.a.Extra,{children:[a||b?Object(u.jsx)(y.a,{onClick:function(){return r({logoutParams:{returnTo:window.location.href}})},size:"big",icon:"user",labelPosition:"left",content:"Logout",disabled:re||ce}):Object(u.jsx)(y.a,{primary:!0,size:"big",icon:"user",labelPosition:"left",content:"Login",onClick:function(){n()},disabled:re||ce}),Object(u.jsx)(y.a,{primary:!0,size:"big",icon:"play",labelPosition:"left",content:ce?"Processing...":"Start Now",onClick:function(){return ie(!0)},disabled:!re||ce,floated:"right"})]})]})})})}),ce&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{})," ",Object(u.jsx)(m,{})]}),Object(u.jsx)("br",{})]})},L=n(77),R=n.n(L),U=n(176),Y=n(103),G=n.n(Y),J=function(e){var t=e.countdownTime,n=e.timeOver,i=e.setTimeTaken,r=1e3*t,a=Object(c.useState)(r),s=Object(o.a)(a,2),l=s[0],j=s[1],b=_(l),d=b.hours,h=b.minutes,O=b.seconds;return Object(c.useEffect)((function(){var e=setInterval((function(){var t=l-1e3;t>=0?j(t):(clearInterval(e),G.a.fire({title:"Your Time's Up",icon:"info",timer:5e3,willClose:function(){return n(r-l)}}))}),1e3);return function(){clearInterval(e),i(r-l+1e3)}}),[l]),Object(u.jsxs)(y.a.Group,{size:"massive",basic:!0,floated:"right",children:[Object(u.jsx)(U.a,{content:"Hours",trigger:Object(u.jsx)(y.a,{active:!0,children:d}),position:"bottom left"}),Object(u.jsx)(U.a,{content:"Minutes",trigger:Object(u.jsx)(y.a,{active:!0,children:h}),position:"bottom left"}),Object(u.jsx)(U.a,{content:"Seconds",trigger:Object(u.jsx)(y.a,{active:!0,children:O}),position:"bottom left"})]})},K=function(e){var t=e.data,n=e.countdownTime,i=e.endQuiz,r=e.major,a=Object(j.b)().user,s=Object(c.useState)(0),b=Object(o.a)(s,2),d=b[0],f=b[1],z=Object(c.useState)(0),C=Object(o.a)(z,2),T=C[0],Q=C[1],q=Object(c.useState)(null),E=Object(o.a)(q,2),P=E[0],I=E[1],N=Object(c.useState)([]),H=Object(o.a)(N,2),B=H[0],_=H[1],W=Object(c.useState)(null),M=Object(o.a)(W,2),L=M[0],U=M[1],Y=function(e,t){var n=t.name;I(n)};return t?Object(u.jsx)(w.a.Header,{children:Object(u.jsxs)(h.a,{children:[Object(u.jsx)(g.a,{children:Object(u.jsx)(p.a,{columns:3,children:Object(u.jsxs)(p.a.Row,{children:[Object(u.jsx)(p.a.Column,{children:Object(u.jsx)(v.a,{size:"medium",verticalAlign:"middle",src:S})},1),Object(u.jsx)(p.a.Column,{textAlign:"center",verticalAlign:"middle",children:Object(u.jsx)("h2",{children:r.text})},2),Object(u.jsx)(p.a.Column,{children:Object(u.jsx)(v.a,{size:"small",src:A,floated:"right"})},3)]})})}),Object(u.jsx)(g.a,{children:Object(u.jsx)(w.a.Group,{divided:!0,children:Object(u.jsx)(w.a,{children:Object(u.jsxs)(w.a.Content,{children:[Object(u.jsxs)(w.a.Extra,{children:[Object(u.jsxs)(D.a,{as:"h1",block:!0,floated:"left",children:[Object(u.jsx)(x.a,{name:"info circle"}),Object(u.jsx)(D.a.Content,{children:"Question No.".concat(d+1," of ").concat(t.length)})]}),Object(u.jsx)(J,{countdownTime:n,timeOver:function(e){return i({totalQuestions:t.length,correctAnswers:T,timeTaken:e,questionsAndAnswers:B})},setTimeTaken:U})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(w.a.Meta,{children:[Object(u.jsx)(O.a,{size:"huge",floating:!0,children:Object(u.jsx)("b",{children:"Q. ".concat(R.a.decode(t[d].question))})}),Object(u.jsx)("br",{}),Object(u.jsx)(w.a.Description,{children:Object(u.jsx)("h3",{children:"Please choose one of the following answers:"})}),Object(u.jsx)(k.a,{}),Object(u.jsx)(l.a,{vertical:!0,fluid:!0,size:"massive",children:t[d].options.map((function(e,t){var n=F(t),c=R.a.decode(e);return Object(u.jsxs)(l.a.Item,{name:c,active:P===c,onClick:Y,children:[Object(u.jsx)("b",{style:{marginRight:"8px"},children:n}),c]},c)}))})]}),Object(u.jsx)(k.a,{}),Object(u.jsx)(w.a.Extra,{children:Object(u.jsx)(y.a,{primary:!0,content:"Next",onClick:function(){return function(e){var n=0;fetch("https://kerserver.onrender.com/validateAnswer",{method:"POST",body:JSON.stringify({major:r.value,_questionId:e,userSlectedAns:P,user:a}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json().then((function(e){e.correct_answer===P&&(n=1);var c=B;if(c.push({question:R.a.decode(t[d].question),user_answer:P,correct_answer:e.correct_answer,point:n}),d===t.length-1)return i({totalQuestions:t.length,correctAnswers:T+n,timeTaken:L,questionsAndAnswers:c});Q(T+n),f(d+1),I(null),_(c)}))}))}(R.a.decode(t[d]._id))},floated:"right",size:"big",icon:"right chevron",labelPosition:"right",disabled:!P})})]})})})}),Object(u.jsx)("br",{})]})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{})," ",Object(u.jsx)(m,{})]})},Z=n(180),$=function(){return Object(u.jsx)(c.Fragment,{children:navigator.share?Object(u.jsx)(y.a,{title:"Share",floated:"right",size:"big",circular:!0,icon:"share alternate",onClick:function(){navigator.share({title:document.title,text:"Check out this quiz app \u2014 it rocks!",url:"https://safdarjamal.github.io/quiz-app/"}).then((function(){return console.log("Successfully shared")})).catch((function(e){return console.log(e.message)}))}}):Object(u.jsxs)(Z.a,{closeIcon:!0,size:"tiny",trigger:Object(u.jsx)(y.a,{title:"Share",floated:"right",size:"big",circular:!0,icon:"share alternate"}),children:[Object(u.jsx)(Z.a.Header,{className:"ui center aligned",children:"Share on"}),Object(u.jsxs)(Z.a.Content,{className:"ui center aligned container",children:[Object(u.jsx)("a",{href:"https://www.facebook.com/sharer.php?u=https%3A//safdarjamal.github.io/quiz-app/",target:"_blank",rel:"noopener noreferrer",children:Object(u.jsxs)(y.a,{color:"facebook",size:"big",style:{marginBottom:8},children:[Object(u.jsx)(x.a,{name:"facebook"}),"Facebook"]})}),Object(u.jsx)("a",{href:"https://twitter.com/intent/tweet?url=https%3A//safdarjamal.github.io/quiz-app/&text=Check%20out%20this%20quiz%20app%20\u2014%20it%20rocks!&via=_safdarjamal",target:"_blank",rel:"noopener noreferrer",children:Object(u.jsxs)(y.a,{color:"twitter",size:"big",style:{marginBottom:8},children:[Object(u.jsx)(x.a,{name:"twitter"}),"Twitter"]})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsafdarjamal.github.io%2Fquiz-app%2F",target:"_blank",rel:"noopener noreferrer",children:Object(u.jsxs)(y.a,{color:"linkedin",size:"big",children:[Object(u.jsx)(x.a,{name:"linkedin"}),"LinkedIn"]})})]})]})})},V=function(e){var t=e.totalQuestions,n=e.correctAnswers,c=e.timeTaken,i=e.replayQuiz,r=e.resetQuiz,a=H(t,n),s=N(a),o=s.grade,l=s.remarks,j=_(c),b=j.hours,d=j.minutes,h=j.seconds;return Object(u.jsxs)(g.a,{children:[Object(u.jsx)(D.a,{as:"h1",textAlign:"center",block:!0,children:l}),Object(u.jsxs)(D.a,{as:"h2",textAlign:"center",block:!0,children:["Grade: ",o]}),Object(u.jsxs)(D.a,{as:"h3",textAlign:"center",block:!0,children:["Total Questions: ",t]}),Object(u.jsxs)(D.a,{as:"h3",textAlign:"center",block:!0,children:["Correct Answers: ",n]}),Object(u.jsxs)(D.a,{as:"h3",textAlign:"center",block:!0,children:["Your Score: ",a,"%"]}),Object(u.jsx)(D.a,{as:"h3",textAlign:"center",block:!0,children:"Passing Score: 60%"}),Object(u.jsxs)(D.a,{as:"h3",textAlign:"center",block:!0,children:["Time Taken:"," ","".concat(Number(b),"h ").concat(Number(d),"m ").concat(Number(h),"s")]}),Object(u.jsxs)("div",{style:{marginTop:35},children:[Object(u.jsx)(y.a,{primary:!0,content:"Play Again",onClick:i,size:"big",icon:"redo",labelPosition:"left",style:{marginRight:15,marginBottom:8}}),Object(u.jsx)(y.a,{color:"teal",content:"Back to Home",onClick:r,size:"big",icon:"home",labelPosition:"left",style:{marginBottom:8}}),Object(u.jsx)($,{})]})]})},X=n(181),ee=function(e){var t=e.questionsAndAnswers;return Object(u.jsxs)(X.a,{celled:!0,striped:!0,selectable:!0,size:"large",children:[Object(u.jsx)(X.a.Header,{children:Object(u.jsxs)(X.a.Row,{children:[Object(u.jsx)(X.a.HeaderCell,{children:"No."}),Object(u.jsx)(X.a.HeaderCell,{children:"Questions"}),Object(u.jsx)(X.a.HeaderCell,{children:"Your Answers"}),Object(u.jsx)(X.a.HeaderCell,{children:"Correct Answers"}),Object(u.jsx)(X.a.HeaderCell,{children:"Points"})]})}),Object(u.jsx)(X.a.Body,{children:t.map((function(e,t){return Object(u.jsxs)(X.a.Row,{children:[Object(u.jsx)(X.a.Cell,{children:t+1}),Object(u.jsx)(X.a.Cell,{children:e.question}),Object(u.jsx)(X.a.Cell,{children:e.user_answer}),Object(u.jsx)(X.a.Cell,{children:e.correct_answer}),Object(u.jsx)(X.a.Cell,{children:e.point})]},t+1)}))})]})},te=function(e){var t=e.totalQuestions,n=e.correctAnswers,i=e.timeTaken,r=e.questionsAndAnswers,a=e.replayQuiz,s=e.resetQuiz,j=Object(c.useState)("Stats"),b=Object(o.a)(j,2),d=b[0],O=b[1],x=function(e,t){var n=t.name;O(n)};return Object(u.jsxs)(h.a,{children:[Object(u.jsxs)(l.a,{fluid:!0,widths:2,children:[Object(u.jsx)(l.a.Item,{name:"Stats",active:"Stats"===d,onClick:x}),Object(u.jsx)(l.a.Item,{name:"QNA",active:"QNA"===d,onClick:x})]}),"Stats"===d&&Object(u.jsx)(V,{totalQuestions:t,correctAnswers:n,timeTaken:i,replayQuiz:a,resetQuiz:s}),"QNA"===d&&Object(u.jsx)(ee,{questionsAndAnswers:r}),Object(u.jsx)("br",{})]})},ne=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(null),a=Object(o.a)(r,2),l=a[0],j=a[1],b=Object(c.useState)(null),h=Object(o.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),p=g[0],v=g[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),y=k[0],A=k[1],S=Object(c.useState)(!1),z=Object(o.a)(S,2),C=z[0],T=z[1],Q=Object(c.useState)(null),q=Object(o.a)(Q,2),E=q[0],P=q[1];return Object(u.jsxs)(d,{children:[n&&Object(u.jsx)(m,{}),!n&&!y&&!C&&Object(u.jsx)(M,{startQuiz:function(e,t,n){console.log("data....",e),j(e),i(!0),v(t),x(n),A(!0),i(!1)}}),!n&&y&&Object(u.jsx)(K,{data:l,countdownTime:p,endQuiz:function(e){i(!0),A(!1),T(!0),P(e),i(!1)},major:O}),!n&&C&&Object(u.jsx)(te,Object(s.a)(Object(s.a)({},E),{},{replayQuiz:function(){i(!0);var e=B(l);e.forEach((function(e){e.options=B(e.options)})),j(e),A(!0),T(!1),P(null),i(!1)},resetQuiz:function(){i(!0),A(!1),T(!1),P(null),i(!1)}}))]})},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),G.a.fire({toast:"true",position:"bottom",icon:"success",title:"App is ready to work offline.",showConfirmButton:!1,timer:6e3}),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(j.a,{domain:"dev-88bircurddzvffqn.us.auth0.com",clientId:"IlSZ7rPwgaPRDt81GGYnC7W138mdDyWA",authorizationParams:{redirect_uri:window.location.href},children:Object(u.jsx)(ne,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/quiz-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/quiz-app","/service-worker.js");ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker.")}))):ie(t,e)}))}}()}},[[158,1,2]]]);
//# sourceMappingURL=main.21d763cf.chunk.js.map